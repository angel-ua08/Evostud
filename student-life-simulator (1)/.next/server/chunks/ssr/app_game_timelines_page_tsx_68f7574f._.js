module.exports=[18419,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(98437);let f={success:{type:"success",name:"Успішний Семестр",description:"Світ порядку, дисципліни та досягнень. Тут все йде за планом.",relationshipsModifier:1.2,difficultyModifier:.8,theme:{primary:"from-blue-500 to-cyan-500",secondary:"from-green-400 to-emerald-500",background:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950 dark:to-cyan-950",textColor:"text-blue-900 dark:text-blue-100"}},chaos:{type:"chaos",name:"Хаотичний Семестр",description:"Світ непередбачуваності, ризику та несподіванок. Тут правила не працюють.",relationshipsModifier:.8,difficultyModifier:1.3,theme:{primary:"from-purple-500 to-pink-500",secondary:"from-orange-400 to-red-500",background:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950",textColor:"text-purple-900 dark:text-purple-100"}}},g=[{id:"paradox-1",title:"Парадокс Часу",description:"Твої дії створили парадокс між світами",requirement:"Досягни 10 рівня в обох семестрах",reward:"+500 досвіду, унікальний бейдж",unlocked:!1},{id:"harmony",title:"Гармонія Світів",description:"Ти знайшов баланс між порядком та хаосом",requirement:"Виконай 5 квестів в кожному семестрі",reward:"+1000 грошей, постійний бонус +10% до всіх статів",unlocked:!1},{id:"butterfly-effect",title:"Ефект Метелика",description:"Маленький вибір змінив обидва світи",requirement:"Зроби 20 виборів що вплинули на обидві лінії",reward:"Унікальна здатність бачити наслідки виборів",unlocked:!1}];class h{activeTimeline="success";timelines;choices=[];crossTimelineEvents=[...g];switchCount=0;constructor(a){this.timelines={success:{...f.success,stats:{...a.stats},events:[],questsCompleted:[]},chaos:{...f.chaos,stats:{energy:Math.max(20,a.stats.energy-20),happiness:Math.max(20,a.stats.happiness-15),stress:Math.min(100,a.stats.stress+25),money:Math.floor(.7*a.stats.money)},events:[],questsCompleted:[]}}}getActiveTimeline(){return this.timelines[this.activeTimeline]}getOtherTimeline(){return this.timelines["success"===this.activeTimeline?"chaos":"success"]}switchTimeline(){let a=this.activeTimeline;return this.activeTimeline="success"===this.activeTimeline?"chaos":"success",this.switchCount++,this.checkCrossTimelineEvents(),{success:!0,message:`Ти перемістився з "${f[a].name}" до "${f[this.activeTimeline].name}"`}}makeChoice(a,b){let c={id:`choice-${Date.now()}`,description:a,successOutcome:this.generateOutcome("success",a),chaosOutcome:this.generateOutcome("chaos",a),impactOnOtherTimeline:.5*Math.random()+.2,timestamp:Date.now()};this.choices.push(c);let d=this.getOtherTimeline();if("success"===this.activeTimeline)d.stats.stress=Math.max(0,d.stats.stress-10*c.impactOnOtherTimeline);else{let a=this.timelines.success;a.stats.stress=Math.min(100,a.stats.stress+15*c.impactOnOtherTimeline)}return c}generateOutcome(a,b){if("success"===a){let a=["Все пройшло ідеально! +20 щастя","Ти зробив правильний вибір. +15 енергія","Відмінний результат! +100 грошей","Це було розумне рішення. -10 стрес"];return a[Math.floor(Math.random()*a.length)]}{let a=["Непередбачуваний результат! +50 досвіду","Хаос приніс несподівані переваги! +200 грошей","Це було божевільно, але спрацювало! +25 щастя","Ризик виправдався! Отримано унікальний предмет"];return a[Math.floor(Math.random()*a.length)]}}checkCrossTimelineEvents(){this.crossTimelineEvents.forEach(a=>{!a.unlocked&&("paradox-1"===a.id?this.timelines.success.questsCompleted.length>=10&&this.timelines.chaos.questsCompleted.length>=10&&(a.unlocked=!0):"harmony"===a.id?this.timelines.success.questsCompleted.length>=5&&this.timelines.chaos.questsCompleted.length>=5&&(a.unlocked=!0):"butterfly-effect"===a.id&&this.choices.length>=20&&(a.unlocked=!0))})}getTimelineStats(){return{successStats:this.timelines.success.stats,chaosStats:this.timelines.chaos.stats,totalSwitches:this.switchCount,totalChoices:this.choices.length,unlockedEvents:this.crossTimelineEvents.filter(a=>a.unlocked).length}}getCrossTimelineEvents(){return this.crossTimelineEvents}getRecentChoices(a=5){return this.choices.slice(-a)}syncWithGameState(a){this.getActiveTimeline().stats={...a.stats}}applyTimelineToGameState(a){let b=this.getActiveTimeline();return{...a,stats:{...b.stats}}}}let i=null;var j=a.i(40695),k=a.i(99990),l=a.i(2150),m=a.i(210),n=a.i(69520),o=a.i(1027),p=a.i(76472),q=a.i(61545),r=a.i(72089),s=a.i(43108);let t=(0,a.i(70106).default)("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var u=a.i(8406),v=a.i(38246),w=a.i(46271),x=a.i(62036),y=a.i(19401);function z(){let a=(0,d.useRouter)(),{showSuccess:f,showConfirm:g}=(0,y.useGameModal)(),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{let b=await (0,e.loadGameState)();if(!b)return a.push("/");A(b);let c=(i||(i=new h(b)),i);E(c.getActiveTimeline()),G(c.getOtherTimeline()),I(c.getRecentChoices()),K(c.getCrossTimelineEvents()),C(!1)})()},[a]);let L=async()=>{let a=i;a&&z&&g("Ти впевнений, що хочеш перемістись в інший семестр? Це може змінити багато речей.",async()=>{let b=a.switchTimeline(),c=a.applyTimelineToGameState(z);await (0,e.saveGameState)(c),A(c),E(a.getActiveTimeline()),G(a.getOtherTimeline()),K(a.getCrossTimelineEvents()),f(b.message,"Переміщення успішне!")},"Перемістити в інший семестр")};if(B||!z||!D||!F)return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary"})});let M=i?.getTimelineStats();return(0,b.jsx)("div",{className:`min-h-screen p-4 ${D.theme.background} ${D.theme.textColor}`,children:(0,b.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,b.jsxs)("header",{className:"mb-8",children:[(0,b.jsx)(v.default,{href:"/game",children:(0,b.jsxs)(j.Button,{variant:"ghost",className:"mb-4",children:[(0,b.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Назад до Гри"]})}),(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)(w.motion.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`text-4xl font-bold bg-gradient-to-r ${D.theme.primary} bg-clip-text text-transparent`,children:"Паралельні Семестри"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Два світи, один студент, нескінченні можливості"})]})]}),(0,b.jsx)(w.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:(0,b.jsx)(k.GameCard,{title:D.name,description:"Поточний семестр",className:`border-2 bg-gradient-to-r ${D.theme.primary} border-opacity-50`,glowing:!0,children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm opacity-90",children:D.description}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,b.jsxs)("div",{className:"p-3 bg-white/20 dark:bg-black/20 rounded-lg backdrop-blur-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(o.Zap,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:"Енергія"})]}),(0,b.jsx)("div",{className:"font-bold text-xl",children:D.stats.energy}),(0,b.jsx)(l.Progress,{value:D.stats.energy,className:"h-1 mt-1"})]}),(0,b.jsxs)("div",{className:"p-3 bg-white/20 dark:bg-black/20 rounded-lg backdrop-blur-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(p.Heart,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:"Щастя"})]}),(0,b.jsx)("div",{className:"font-bold text-xl",children:D.stats.happiness}),(0,b.jsx)(l.Progress,{value:D.stats.happiness,className:"h-1 mt-1"})]}),(0,b.jsxs)("div",{className:"p-3 bg-white/20 dark:bg-black/20 rounded-lg backdrop-blur-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(q.Brain,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:"Стрес"})]}),(0,b.jsx)("div",{className:"font-bold text-xl",children:D.stats.stress}),(0,b.jsx)(l.Progress,{value:D.stats.stress,className:"h-1 mt-1"})]}),(0,b.jsxs)("div",{className:"p-3 bg-white/20 dark:bg-black/20 rounded-lg backdrop-blur-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(r.Coins,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:"Гроші"})]}),(0,b.jsx)("div",{className:"font-bold text-xl",children:D.stats.money})]})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-white/20 dark:border-black/20",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm opacity-75",children:"Квестів виконано"}),(0,b.jsx)("div",{className:"font-bold text-2xl",children:D.questsCompleted.length})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm opacity-75",children:"Модифікатор складності"}),(0,b.jsxs)("div",{className:"font-bold text-2xl",children:["×",D.difficultyModifier]})]})]})})]})})}),(0,b.jsx)("div",{className:"flex justify-center mb-8",children:(0,b.jsxs)(j.Button,{onClick:L,size:"lg",className:`bg-gradient-to-r ${D.theme.primary} hover:opacity-90 transition-opacity text-white shadow-lg`,children:[(0,b.jsx)(n.RefreshCw,{className:"w-5 h-5 mr-2"}),"Перемістись в ",F.name]})}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)(w.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,b.jsx)(k.GameCard,{title:F.name,description:"Альтернативний семестр",className:"opacity-75 hover:opacity-100 transition-opacity",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:F.description}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"p-2 bg-muted rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Енергія"}),(0,b.jsx)("div",{className:"font-bold",children:F.stats.energy})]}),(0,b.jsxs)("div",{className:"p-2 bg-muted rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Щастя"}),(0,b.jsx)("div",{className:"font-bold",children:F.stats.happiness})]}),(0,b.jsxs)("div",{className:"p-2 bg-muted rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Стрес"}),(0,b.jsx)("div",{className:"font-bold",children:F.stats.stress})]}),(0,b.jsxs)("div",{className:"p-2 bg-muted rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Гроші"}),(0,b.jsx)("div",{className:"font-bold",children:F.stats.money})]})]}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground text-center pt-2",children:["Квестів: ",F.questsCompleted.length]})]})})}),(0,b.jsx)(w.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:(0,b.jsx)(k.GameCard,{title:"Статистика Переміщень",description:"Твоя активність у світах",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Всього переміщень"}),(0,b.jsx)("div",{className:"font-bold text-3xl",children:M?.totalSwitches||0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Зроблено виборів"}),(0,b.jsx)("div",{className:"font-bold text-xl",children:M?.totalChoices||0})]}),(0,b.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Відкрито подій"}),(0,b.jsx)("div",{className:"font-bold text-xl",children:M?.unlockedEvents||0})]})]}),(0,b.jsx)("div",{className:"pt-4 border-t",children:(0,b.jsx)("div",{className:"text-sm text-center text-muted-foreground",children:"Твої вибори формують обидва світи"})})]})})})]}),(0,b.jsx)(w.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8",children:(0,b.jsx)(k.GameCard,{title:"Міжсвітові Події",description:"Унікальні досягнення між семестрами",glowing:!0,children:(0,b.jsx)("div",{className:"space-y-3",children:J.map(a=>(0,b.jsx)(w.motion.div,{initial:{opacity:0},animate:{opacity:1},className:`p-4 rounded-lg border-2 ${a.unlocked?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 border-green-500/50":"bg-muted border-muted-foreground/20"}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"mt-1",children:a.unlocked?(0,b.jsx)(t,{className:"w-6 h-6 text-green-500"}):(0,b.jsx)(s.Lock,{className:"w-6 h-6 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h3",{className:"font-bold",children:a.title}),a.unlocked&&(0,b.jsx)(u.Sparkles,{className:"w-4 h-4 text-yellow-500 animate-pulse"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:a.description}),(0,b.jsxs)("div",{className:"text-xs",children:[(0,b.jsxs)("div",{className:"text-muted-foreground",children:["Умова: ",a.requirement]}),a.unlocked&&(0,b.jsxs)("div",{className:"text-green-600 dark:text-green-400 font-medium mt-1",children:["Нагорода: ",a.reward]})]})]})]})},a.id))})})}),H.length>0&&(0,b.jsx)(w.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8",children:(0,b.jsx)(k.GameCard,{title:"Останні Вибори",description:"Твої рішення формують обидва світи",children:(0,b.jsx)("div",{className:"space-y-3",children:(0,b.jsx)(x.AnimatePresence,{children:H.map((a,c)=>(0,b.jsxs)(w.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.1*c},className:"p-3 bg-muted rounded-lg",children:[(0,b.jsx)("div",{className:"text-sm font-medium mb-2",children:a.description}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 text-xs",children:[(0,b.jsxs)("div",{className:"p-2 bg-blue-500/10 rounded border border-blue-500/30",children:[(0,b.jsx)("div",{className:"font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Успішний результат:"}),(0,b.jsx)("div",{className:"text-muted-foreground",children:a.successOutcome})]}),(0,b.jsxs)("div",{className:"p-2 bg-purple-500/10 rounded border border-purple-500/30",children:[(0,b.jsx)("div",{className:"font-medium text-purple-600 dark:text-purple-400 mb-1",children:"Хаотичний результат:"}),(0,b.jsx)("div",{className:"text-muted-foreground",children:a.chaosOutcome})]})]}),(0,b.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:["Вплив на інший світ: ",Math.round(100*a.impactOnOtherTimeline),"%"]})]},a.id))})})})})]})})}a.s(["default",()=>z],18419)}];

//# sourceMappingURL=app_game_timelines_page_tsx_68f7574f._.js.map