{"version":3,"sources":["../../../../app/game/shadow/page.tsx","../../../../lib/shadow-student-system.ts"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { loadGameState, type GameState } from \"@/lib/game-state\"\nimport { shadowStudentAI, type ShadowProfile, type ShadowChallenge } from \"@/lib/shadow-student-system\"\nimport { Button } from \"@/components/ui/button\"\nimport { GameCard } from \"@/components/game-card\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { ArrowLeft, Swords, Trophy, Target, Clock, Zap, User } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { motion } from \"framer-motion\"\nimport { useGameModal } from \"@/lib/use-game-modal\"\n\nexport default function ShadowStudentPage() {\n  const router = useRouter()\n  const { showSuccess, showAlert } = useGameModal()\n  const [gameState, setGameState] = useState<GameState | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [shadowProfile, setShadowProfile] = useState<ShadowProfile | null>(null)\n  const [currentChallenge, setCurrentChallenge] = useState<ShadowChallenge | null>(null)\n\n  useEffect(() => {\n    const load = async () => {\n      const state = await loadGameState()\n      if (!state) {\n        router.push(\"/\")\n        return\n      }\n\n      setGameState(state)\n\n      // Ініціалізація або отримання Shadow профілю\n      let shadow = shadowStudentAI.getShadowProfile()\n      if (!shadow) {\n        shadow = shadowStudentAI.initializeShadow(state)\n      }\n      setShadowProfile(shadow)\n      setCurrentChallenge(shadow.currentChallenge || null)\n\n      setLoading(false)\n    }\n\n    load()\n  }, [router])\n\n  const handleCreateChallenge = () => {\n    if (!gameState) return\n\n    const challenge = shadowStudentAI.createChallenge(gameState)\n    setCurrentChallenge(challenge)\n\n    showSuccess(\"Виклик прийнято! Покажи, на що ти здатний!\", \"Новий виклик\")\n  }\n\n  const handleAcceptHint = () => {\n    if (!gameState) return\n\n    const encounter = shadowStudentAI.generateEncounter(\"hint\", gameState)\n    showAlert(encounter.message, \"Підказка від Тіні\")\n  }\n\n  if (loading || !gameState || !shadowProfile) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary\"></div>\n      </div>\n    )\n  }\n\n  const timeUntilDeadline = currentChallenge ? currentChallenge.deadline - Date.now() : 0\n  const hoursLeft = Math.floor(timeUntilDeadline / (1000 * 60 * 60))\n  const challengeProgress = currentChallenge\n    ? Math.min(100, (currentChallenge.progress / Number(currentChallenge.target)) * 100)\n    : 0\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-black text-white p-4\">\n      <div className=\"container mx-auto max-w-4xl\">\n        <header className=\"mb-8\">\n          <Link href=\"/game\">\n            <Button variant=\"ghost\" className=\"mb-4 text-white hover:bg-white/10\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Назад до Гри\n            </Button>\n          </Link>\n\n          <div className=\"text-center space-y-2\">\n            <motion.h1\n              initial={{ opacity: 0, y: -20 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 bg-clip-text text-transparent\"\n            >\n              Твоє Альтер-Его\n            </motion.h1>\n            <p className=\"text-gray-400\">Зустрінь свою темну версію</p>\n          </div>\n        </header>\n\n        <div className=\"grid gap-6 md:grid-cols-2 mb-8\">\n          {/* Player Card */}\n          <motion.div initial={{ opacity: 0, x: -50 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.2 }}>\n            <GameCard title={gameState.playerName} description=\"Ти\">\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between p-3 bg-blue-500/20 rounded-lg border border-blue-500/30\">\n                  <span className=\"text-sm\">Рівень</span>\n                  <span className=\"font-bold text-xl\">{gameState.stats.level}</span>\n                </div>\n                <div className=\"flex items-center justify-between p-3 bg-green-500/20 rounded-lg border border-green-500/30\">\n                  <span className=\"text-sm\">Перемоги</span>\n                  <span className=\"font-bold text-xl\">{shadowProfile.challengesLost}</span>\n                </div>\n                <div className=\"flex items-center justify-between p-3 bg-yellow-500/20 rounded-lg border border-yellow-500/30\">\n                  <span className=\"text-sm\">Гроші</span>\n                  <span className=\"font-bold text-xl\">{gameState.stats.money} грн</span>\n                </div>\n              </div>\n            </GameCard>\n          </motion.div>\n\n          {/* Shadow Card */}\n          <motion.div initial={{ opacity: 0, x: 50 }} animate={{ opacity: 1, x: 0 }} transition={{ delay: 0.4 }}>\n            <GameCard\n              title={shadowProfile.name}\n              description={`Особистість: ${shadowProfile.personality}`}\n              className=\"border-2 border-purple-500/50 bg-gradient-to-br from-purple-900/50 to-black/50\"\n              glowing\n            >\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between p-3 bg-purple-500/20 rounded-lg border border-purple-500/30\">\n                  <span className=\"text-sm\">Рівень</span>\n                  <span className=\"font-bold text-xl\">{shadowProfile.level}</span>\n                </div>\n                <div className=\"flex items-center justify-between p-3 bg-red-500/20 rounded-lg border border-red-500/30\">\n                  <span className=\"text-sm\">Перемоги</span>\n                  <span className=\"font-bold text-xl\">{shadowProfile.challengesWon}</span>\n                </div>\n                <div className=\"flex items-center justify-between p-3 bg-orange-500/20 rounded-lg border border-orange-500/30\">\n                  <span className=\"text-sm\">Виклики</span>\n                  <span className=\"font-bold text-xl\">{shadowProfile.challengesIssued}</span>\n                </div>\n              </div>\n\n              <div className=\"mt-4 p-4 bg-black/50 rounded-lg border border-purple-500/30\">\n                <div className=\"text-sm text-gray-400 mb-2\">Тіньова Аура</div>\n                <div className=\"flex gap-2\">\n                  {[\"dark\", \"glitch\", \"mirror\", \"corrupted\"].map((appearance, i) => (\n                    <div\n                      key={appearance}\n                      className={`w-full h-2 rounded-full ${i === 0 ? \"bg-purple-500 animate-pulse\" : \"bg-gray-700\"}`}\n                    />\n                  ))}\n                </div>\n              </div>\n            </GameCard>\n          </motion.div>\n        </div>\n\n        {/* Current Challenge */}\n        {currentChallenge ? (\n          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.6 }}>\n            <GameCard\n              title=\"Поточний Виклик\"\n              description=\"Змагайся зі своєю тінню\"\n              className=\"border-2 border-yellow-500/50\"\n              glowing\n            >\n              <div className=\"space-y-4\">\n                <div className=\"p-4 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-lg border border-yellow-500/30\">\n                  <div className=\"flex items-start gap-3\">\n                    <Target className=\"w-6 h-6 text-yellow-500 mt-1\" />\n                    <div className=\"flex-1\">\n                      <div className=\"font-bold text-lg mb-2\">{currentChallenge.description}</div>\n                      <div className=\"text-sm text-gray-400\">\n                        Тип: <span className=\"text-white\">{currentChallenge.type}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div className=\"p-3 bg-green-500/20 rounded-lg border border-green-500/30\">\n                    <div className=\"text-sm text-gray-400\">Нагорода</div>\n                    <div className=\"font-bold text-xl text-green-400\">+{currentChallenge.reward} грн</div>\n                  </div>\n                  <div className=\"p-3 bg-red-500/20 rounded-lg border border-red-500/30\">\n                    <div className=\"text-sm text-gray-400\">Штраф</div>\n                    <div className=\"font-bold text-xl text-red-400\">-{currentChallenge.penalty} грн</div>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-400\">Прогрес</span>\n                    <span>\n                      {currentChallenge.progress} / {currentChallenge.target}\n                    </span>\n                  </div>\n                  <Progress value={challengeProgress} className=\"h-3\" />\n                </div>\n\n                <div className=\"flex items-center justify-between p-3 bg-blue-500/20 rounded-lg border border-blue-500/30\">\n                  <div className=\"flex items-center gap-2\">\n                    <Clock className=\"w-5 h-5 text-blue-400\" />\n                    <span className=\"text-sm\">Часу залишилось</span>\n                  </div>\n                  <span className=\"font-bold\">{hoursLeft} годин</span>\n                </div>\n\n                <div className=\"pt-4 border-t border-gray-700\">\n                  <p className=\"text-sm text-gray-400 italic text-center\">\"Побачимо, чи зможеш ти перемогти себе...\"</p>\n                </div>\n              </div>\n            </GameCard>\n          </motion.div>\n        ) : (\n          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.6 }}>\n            <GameCard title=\"Немає Активного Виклику\" description=\"Твоя тінь чекає на тебе\" className=\"text-center\">\n              <div className=\"py-8 space-y-6\">\n                <div className=\"flex justify-center\">\n                  <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center animate-pulse\">\n                    <User className=\"w-12 h-12 text-white\" />\n                  </div>\n                </div>\n\n                <p className=\"text-gray-400 max-w-md mx-auto\">\n                  Тінь студента спостерігає за тобою з темряви. Готовий прийняти виклик від свого альтер-его?\n                </p>\n\n                <div className=\"flex gap-4 justify-center\">\n                  <Button\n                    onClick={handleCreateChallenge}\n                    className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\n                    size=\"lg\"\n                  >\n                    <Swords className=\"w-5 h-5 mr-2\" />\n                    Кинути Виклик\n                  </Button>\n\n                  <Button onClick={handleAcceptHint} variant=\"outline\" size=\"lg\">\n                    <Zap className=\"w-5 h-5 mr-2\" />\n                    Отримати Підказку\n                  </Button>\n                </div>\n              </div>\n            </GameCard>\n          </motion.div>\n        )}\n\n        {/* Stats Comparison */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.8 }}\n          className=\"mt-8\"\n        >\n          <GameCard title=\"Порівняння Статистики\" description=\"Ти проти твоєї тіні\">\n            <div className=\"space-y-6\">\n              <div>\n                <div className=\"flex justify-between text-sm mb-2\">\n                  <span>Виклики Виграно</span>\n                  <span>\n                    {shadowProfile.challengesLost} vs {shadowProfile.challengesWon}\n                  </span>\n                </div>\n                <div className=\"flex gap-2\">\n                  <div\n                    className=\"h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-l-lg flex items-center justify-center text-sm font-bold\"\n                    style={{\n                      width: `${(shadowProfile.challengesLost / Math.max(1, shadowProfile.challengesIssued)) * 100}%`,\n                    }}\n                  >\n                    {shadowProfile.challengesLost > 0 && shadowProfile.challengesLost}\n                  </div>\n                  <div\n                    className=\"h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-r-lg flex items-center justify-center text-sm font-bold\"\n                    style={{\n                      width: `${(shadowProfile.challengesWon / Math.max(1, shadowProfile.challengesIssued)) * 100}%`,\n                    }}\n                  >\n                    {shadowProfile.challengesWon > 0 && shadowProfile.challengesWon}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"text-center p-4 bg-blue-500/10 rounded-lg border border-blue-500/30\">\n                  <Trophy className=\"w-8 h-8 mx-auto mb-2 text-blue-400\" />\n                  <div className=\"text-2xl font-bold\">{shadowProfile.challengesLost}</div>\n                  <div className=\"text-xs text-gray-400\">Твої Перемоги</div>\n                </div>\n                <div className=\"text-center p-4 bg-purple-500/10 rounded-lg border border-purple-500/30\">\n                  <Trophy className=\"w-8 h-8 mx-auto mb-2 text-purple-400\" />\n                  <div className=\"text-2xl font-bold\">{shadowProfile.challengesWon}</div>\n                  <div className=\"text-xs text-gray-400\">Перемоги Тіні</div>\n                </div>\n              </div>\n            </div>\n          </GameCard>\n        </motion.div>\n      </div>\n    </div>\n  )\n}\n","export interface ShadowProfile {\n  name: string\n  level: number\n  stats: {\n    energy: number\n    happiness: number\n    stress: number\n    money: number\n  }\n  personality: \"rebel\" | \"perfectionist\" | \"chaos\" | \"genius\"\n  appearance: \"dark\" | \"glitch\" | \"mirror\" | \"corrupted\"\n  lastEncounter: number\n  challengesIssued: number\n  challengesWon: number\n  challengesLost: number\n  currentChallenge?: ShadowChallenge\n}\n\nexport interface ShadowChallenge {\n  id: string\n  type: \"minigame\" | \"quest\" | \"stat-race\" | \"achievement\"\n  description: string\n  reward: number\n  penalty: number\n  deadline: number\n  target: number | string\n  progress: number\n}\n\nexport interface ShadowEncounter {\n  id: string\n  type: \"challenge\" | \"hint\" | \"taunt\" | \"trap\"\n  message: string\n  timestamp: number\n}\n\nconst SHADOW_PERSONALITIES = {\n  rebel: {\n    name: \"Темний\",\n    traits: [\"Бунтівний\", \"Непередбачуваний\", \"Ризикований\"],\n    messages: {\n      greeting: [\n        \"Знову ти? Я вже почав сумувати...\",\n        \"Цікаво, коли ти нарешті станеш справді крутим?\",\n        \"Бачу, ти все ще граєш безпечно. Нудно.\",\n      ],\n      challenge: [\n        \"Кидаю тобі виклик! Давай подивимось, хто кращий!\",\n        \"Зараз покажу тобі, як треба грати!\",\n        \"Готовий програти? Бо я готовий перемогти!\",\n      ],\n      victory: [\n        \"Що? Ти переміг? Це просто удача...\",\n        \"Добре, добре... Але наступного разу я не здамся!\",\n        \"Хм, можливо ти не такий безнадійний...\",\n      ],\n      defeat: [\"Ха! Я ж казав, що ти не готовий!\", \"Може спробуєш ще раз, коли підростеш?\", \"Це було... надто легко.\"],\n      hint: [\n        \"Слухай, я тобі підкажу одну річ...\",\n        \"Не кажи, що я тобі допомагаю, але...\",\n        \"Може, спробуєш інший підхід?\",\n      ],\n    },\n  },\n  perfectionist: {\n    name: \"Ідеальний\",\n    traits: [\"Перфекціоніст\", \"Амбітний\", \"Конкурентний\"],\n    messages: {\n      greeting: [\n        \"Твої показники... цікаво, але недостатньо.\",\n        \"Я бачу всі твої помилки. ВСІ.\",\n        \"Коли ти нарешті досягнеш досконалості?\",\n      ],\n      challenge: [\n        \"Давай змагатись за досконалість!\",\n        \"Покажи мені свій максимум!\",\n        \"Тільки ідеальний результат має значення!\",\n      ],\n      victory: [\n        \"Непогано... для новачка.\",\n        \"Цього разу ти був... достатньо хорошим.\",\n        \"Я визнаю твою перемогу. Але тільки цього разу.\",\n      ],\n      defeat: [\n        \"Як і передбачав. Сценарій №42.\",\n        \"Логіка завжди перемагає.\",\n        \"Твоя помилка була очевидною з самого початку.\",\n      ],\n      hint: [\"Проаналізуй закономірність.\", \"Відповідь лежить у деталях.\", \"Думай на три кроки вперед.\"],\n    },\n  },\n  chaos: {\n    name: \"Хаос\",\n    traits: [\"Хаотичний\", \"Непередбачуваний\", \"Веселий\"],\n    messages: {\n      greeting: [\"ХА-ХА! Давай влаштуємо ХАОС!\", \"Нудьга? Не при мені! БУУУМ!\", \"Готовий до БЕЗУМСТВА?!\"],\n      challenge: [\n        \"Зіграємо у МОЮ гру! Правила? Яких правила?!\",\n        \"Хаос проти порядку! ПОЧИНАЄМО!\",\n        \"Думаєш, це буде легко? СЮРПРИЗ!\",\n      ],\n      victory: [\n        \"ВАУ! Ти переміг ХАОС! Це... неможливо!\",\n        \"Окей, ти крутий! Навіть я не передбачив!\",\n        \"ХА! Мені подобається твій стиль!\",\n      ],\n      defeat: [\"ХАОС ПЕРЕМАГАЄ! Як завжди!\", \"Не можна передбачити ХАОС!\", \"ХА-ХА-ХА! Це було епічно!\"],\n      hint: [\n        \"Секрет: спробуй зробити щось БОЖЕВІЛЬНЕ!\",\n        \"А що якщо... зробити все НАВПАКИ?\",\n        \"Підказка: БІЛЬШЕ ХАОСУ!\",\n      ],\n    },\n  },\n  genius: {\n    name: \"Геній\",\n    traits: [\"Розумний\", \"Стратегічний\", \"Таємничий\"],\n    messages: {\n      greeting: [\n        \"Цікавий вибір. Але не найоптимальніший.\",\n        \"Я вже прорахував 147 можливих сценаріїв.\",\n        \"Твоя стратегія... інтригуюча.\",\n      ],\n      challenge: [\"Перевіримо твій інтелект!\", \"Це буде інтелектуальна дуель.\", \"Покажи мені свою стратегію.\"],\n      victory: [\n        \"Імпресивно. Я не врахував цей варіант.\",\n        \"Твоя логіка... несподівана, але ефективна.\",\n        \"Я недооцінив тебе. Це не повториться.\",\n      ],\n      defeat: [\n        \"Як і передбачав. Сценарій №42.\",\n        \"Логіка завжди перемагає.\",\n        \"Твоя помилка була очевидною з самого початку.\",\n      ],\n      hint: [\"Проаналізуй закономірність.\", \"Відповідь лежить у деталях.\", \"Думай на три кроки вперед.\"],\n    },\n  },\n}\n\nexport class ShadowStudentAI {\n  private shadowProfile: ShadowProfile | null = null\n  private encounters: ShadowEncounter[] = []\n\n  initializeShadow(playerState: any): ShadowProfile {\n    // Створення протилежної особистості\n    const personalities: Array<ShadowProfile[\"personality\"]> = [\"rebel\", \"perfectionist\", \"chaos\", \"genius\"]\n    const playerPersonality = playerState.personalityType || \"default\"\n\n    let shadowPersonality: ShadowProfile[\"personality\"] = \"rebel\"\n\n    // Вибір протилежної особистості\n    if (playerPersonality === \"ambitious\") {\n      shadowPersonality = \"chaos\"\n    } else if (playerPersonality === \"creative\") {\n      shadowPersonality = \"perfectionist\"\n    } else if (playerPersonality === \"social\") {\n      shadowPersonality = \"genius\"\n    } else {\n      shadowPersonality = personalities[Math.floor(Math.random() * personalities.length)]\n    }\n\n    this.shadowProfile = {\n      name: `${playerState.playerName} [ТІНЬ]`,\n      level: Math.max(1, playerState.stats.level - 2), // Трохи слабший\n      stats: {\n        energy: 100 - playerState.stats.energy,\n        happiness: 100 - playerState.stats.happiness,\n        stress: 100 - playerState.stats.stress,\n        money: Math.floor(playerState.stats.money * 0.8),\n      },\n      personality: shadowPersonality,\n      appearance: \"dark\",\n      lastEncounter: Date.now(),\n      challengesIssued: 0,\n      challengesWon: 0,\n      challengesLost: 0,\n    }\n\n    return this.shadowProfile\n  }\n\n  getShadowProfile(): ShadowProfile | null {\n    return this.shadowProfile\n  }\n\n  shouldAppear(playerState: any): boolean {\n    if (!this.shadowProfile) {\n      this.initializeShadow(playerState)\n    }\n\n    const timeSinceLastEncounter = Date.now() - (this.shadowProfile?.lastEncounter || 0)\n    const hoursSinceLastEncounter = timeSinceLastEncounter / (1000 * 60 * 60)\n\n    // З'являється кожні 2-4 години гри або при особливих умовах\n    if (hoursSinceLastEncounter > 2) {\n      return Math.random() < 0.3 // 30% шанс\n    }\n\n    // Особливі умови\n    if (playerState.stats.level % 5 === 0 && playerState.stats.experience < 50) {\n      return true // З'являється на круглих рівнях\n    }\n\n    if (playerState.stats.stress > 80 || playerState.stats.happiness < 20) {\n      return Math.random() < 0.5 // 50% шанс при поганому стані\n    }\n\n    return false\n  }\n\n  generateEncounter(type: ShadowEncounter[\"type\"], playerState: any): ShadowEncounter {\n    if (!this.shadowProfile) {\n      this.initializeShadow(playerState)\n    }\n\n    const personality = SHADOW_PERSONALITIES[this.shadowProfile!.personality]\n    let message = \"\"\n\n    switch (type) {\n      case \"challenge\":\n        message = personality.messages.challenge[Math.floor(Math.random() * personality.messages.challenge.length)]\n        break\n      case \"hint\":\n        message = personality.messages.hint[Math.floor(Math.random() * personality.messages.hint.length)]\n        break\n      case \"taunt\":\n        message = personality.messages.greeting[Math.floor(Math.random() * personality.messages.greeting.length)]\n        break\n      case \"trap\":\n        message = \"Спробуй вгадати, що я запланував... або не вгадуй. Мені однаково.\"\n        break\n    }\n\n    const encounter: ShadowEncounter = {\n      id: `encounter-${Date.now()}`,\n      type,\n      message,\n      timestamp: Date.now(),\n    }\n\n    this.encounters.push(encounter)\n    if (this.shadowProfile) {\n      this.shadowProfile.lastEncounter = Date.now()\n    }\n\n    return encounter\n  }\n\n  createChallenge(playerState: any): ShadowChallenge {\n    const challengeTypes: ShadowChallenge[\"type\"][] = [\"minigame\", \"quest\", \"stat-race\", \"achievement\"]\n    const type = challengeTypes[Math.floor(Math.random() * challengeTypes.length)]\n\n    const challenge: ShadowChallenge = {\n      id: `challenge-${Date.now()}`,\n      type,\n      description: \"\",\n      reward: 100 + playerState.stats.level * 20,\n      penalty: 50 + playerState.stats.level * 10,\n      deadline: Date.now() + 24 * 60 * 60 * 1000, // 24 години\n      target: 0,\n      progress: 0,\n    }\n\n    switch (type) {\n      case \"minigame\":\n        const games = [\"cafe\", \"library\", \"carePackages\"]\n        const game = games[Math.floor(Math.random() * games.length)]\n        const targetScore = (playerState.minigameHighScores[game] || 10) + 50\n        challenge.description = `Набери ${targetScore} очок у міні-грі \"${game}\"`\n        challenge.target = targetScore\n        break\n\n      case \"quest\":\n        challenge.description = \"Виконай 3 квести за наступні 24 години\"\n        challenge.target = 3\n        break\n\n      case \"stat-race\":\n        challenge.description = `Досягни ${playerState.stats.level + 3} рівня раніше за мене`\n        challenge.target = playerState.stats.level + 3\n        break\n\n      case \"achievement\":\n        challenge.description = \"Отримай 5 нових досягнень\"\n        challenge.target = 5\n        break\n    }\n\n    if (this.shadowProfile) {\n      this.shadowProfile.currentChallenge = challenge\n      this.shadowProfile.challengesIssued++\n    }\n\n    return challenge\n  }\n\n  resolveChallenge(won: boolean): string {\n    if (!this.shadowProfile) {\n      return \"\"\n    }\n\n    const personality = SHADOW_PERSONALITIES[this.shadowProfile.personality]\n\n    if (won) {\n      this.shadowProfile.challengesLost++\n      return personality.messages.victory[Math.floor(Math.random() * personality.messages.victory.length)]\n    } else {\n      this.shadowProfile.challengesWon++\n      return personality.messages.defeat[Math.floor(Math.random() * personality.messages.defeat.length)]\n    }\n  }\n\n  getRecentEncounters(count = 5): ShadowEncounter[] {\n    return this.encounters.slice(-count)\n  }\n}\n\nexport const shadowStudentAI = new ShadowStudentAI()\n"],"names":[],"mappings":"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"}